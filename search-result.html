<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta
        content="width=device-width, initial-scale=1, shrink-to-fit=no"
        name="viewport"
    />
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <link href="/assets/images/test_image/icon.png" rel="icon" type="image/png"/>
    <title>Dormable!</title>

    <!-- Bootstrap core CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" rel="stylesheet">

    <!-- build:css /assets/css/combined.min.css -->
    <link href="/assets/css/modal-animation.css" rel="stylesheet">
    <link href="/assets/css/fontawesome.css" rel="stylesheet">
    <link href="/assets/css/main-dormable.css" rel="stylesheet">
    <link href="/assets/css/animated.css" rel="stylesheet">
    <link href="/assets/css/owl.css" rel="stylesheet">
    <!-- endbuild -->

    <!-- build:css /assets/css/explore-listing.min.css -->
    <link href="/assets/css/search-result.css" rel="stylesheet"/>
    <link href="/assets/css/simple-line-icons.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/css/fontawesome2.css" rel="stylesheet"/>
    <!-- endbuild -->

</head>

<body>
<!-- ***** Preloader Start ***** -->
<div class="js-preloader" id="js-preloader">
    <div class="preloader-inner">
        <span class="dot"></span>
        <div class="dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="text-center">Loading...</div>
    </div>
</div>
<!-- ***** Preloader End ***** -->

<!-- ***** Header Area Start ***** -->
<header
    class="header-area header-sticky wow slideInDown"
    data-wow-delay="0s"
    data-wow-duration="0.75s"
    style="background-color: whitesmoke"
>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav" style="color: black">
                    <!-- ***** Logo Start ***** -->
                    <a class="logo" href="/index"> </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                        <!-- Append this class to <li> tag for active/default -->
                    </ul>
                    <a class="menu-trigger">
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
</header>
<!-- ***** Header Area End ***** -->

<div class="page-heading">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="top-text header-text">
                    <h2>We found these listings based on your query</h2>
                </div>
            </div>
        </div>
    </div>
</div>

<section class="property-section spad">
    <div class="container">
        <div class="sortList text-center">
            <select
                aria-label=".form-select-sm example"
                class="form-select form-select-sm"
                id="sortListings"
            >
                <option disabled selected value="">Sort By</option>
                <option value="rating-high">Rating - High</option>
                <option value="rating-low">Rating - Low</option>
                <option value="price-low">Price - Low to High</option>
                <option value="price-high">Price - High to Low</option>
            </select>
        </div>
        <hr/>
        <div class="row" id="query-listings">
            <!-- Add listings here -->
        </div>
        <hr style="margin-top: 15px"/>
        <div class="col-lg-12" id="loadButton">
            <div class="loadmore-btn">
                <button
                    class="btn btn-outline-primary"
                    id="loadMore"
                    onclick="loadMoreQueryListings()"
                >
                    Load More
                </button>
            </div>
        </div>
    </div>
</section>
<!-- Footer Section Begin -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="about">
                    <div class="logo">
                        <img alt="Plot Listing" src="/assets/images/banner_logo/request-logo.png">
                    </div>
                    <p>
                        Can't find a specific listing? Click the button below to send a request form for a specific
                        listing you are
                        looking for!
                    </p>
                    <div class="main-white-button" style="margin-top: 1rem"><a href="/request-listing"><i
                        class="fa fa-plus"></i> Request a Listing</a></div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="helpful-links">
                    <h4>Helpful Links</h4>
                    <div class="row">
                        <div class="col-lg-6">
                            <ul>
                                <li><a href="#">About Us</a></li>
                                <li><a href="https://github.com/SakuZN/CCAPDEV_Dormable">Github</a></li>
                                <li><a href="https://github.com/SakuZN/CCAPDEV_Dormable#media-accuracy-disclaimer">Disclaimer</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="contact-us">
                    <h4>Contact Us</h4>
                    <p>Â©Dormable CCAPDEV Group 5 2023</p>
                    <p>Taft Avenue, Malate, Manila</p>
                    <div class="row">
                        <div class="col-lg-6">
                            <a href="#">010-020-0340</a>
                            <a href="#">090-080-0760</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- Footer Section End-->

<!-- Modal -->
<div
    aria-hidden="true"
    aria-labelledby="exampleModalLabel"
    class="modal fade"
    id="dialog"
    role="dialog"
    tabindex="-1"
>
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLongTitle">Info!</h4>
                <button
                    aria-label="Close"
                    class="close"
                    data-dismiss="modal"
                    type="button"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="text-align: center">
                <p style="font-size: 34px"></p>
            </div>
            <div class="modal-footer">
                <button
                    class="btn btn-outline-danger"
                    data-dismiss="modal"
                    type="button"
                >
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<!-- jQuery should be loaded first as other scripts like Bootstrap depend on it -->
<script crossorigin="anonymous"
        integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
        referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

<!-- Load other vendor scripts normally -->
<script crossorigin="anonymous"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- build:js /vendor/js/vendor.js -->
<script src="/assets/js/owl-carousel.js"></script>
<script src="/assets/js/animation.js"></script>
<script src="/vendor/gsap/gsap.min.js"></script>
<script src="/vendor/jquery/jquery.magnific-popup.js"></script>
<script src="/vendor/swiper/swiper.min.js"></script>
<script src="/vendor/jquery/jquery.confirmModal.min.js"></script>
<!-- endbuild -->

<!-- build:js /assets/js/main.min.js -->
<script src="/assets/js/dbFetching.js"></script>
<script src="/assets/js/listing.js"></script>
<script src="/assets/js/autostar-rating.js"></script>
<script src="/assets/js/login-register.js"></script>
<script src="/assets/js/custom.js"></script>
<!-- endbuild -->

<script>
    $(document).ready(async function () {

        await initQueryListing();

        document.getElementById("sortListings").selectedIndex = 0;

        if (document.getElementById("query-listings").children.length < 1) {
            document.getElementById("query-listings").innerHTML =
                '<div class="col-lg-12 text-center">' +
                ' <div class="alert alert-danger" role="alert">No listings found!</div></div>';
        }

        function handleSortListingChange() {
            let sortType = $(this).val();
            sortListing(sortType);
        }

        $("#sortListings").on("change", handleSortListingChange);
    });
</script>
</body>
</html>
